---
// No props needed for footer
---

<footer
  class="bg-brand text-white pt-12 pb-8"
  style="position: relative; z-index: 1;"
>
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- Logo y descripci√≥n -->
      <div class="space-y-4">
        <div class="flex items-center space-x-3">
          <!-- Optimized logo for footer with picture element -->
          <picture>
            <source
              srcset="/logos/logo-camion-transparent-72.webp"
              type="image/webp"
            />
            <source
              srcset="/logos/logo-camion-transparent-80.webp"
              type="image/webp"
            />
            <img
              src="/logos/logo-camion-transparent-72.webp"
              alt="Mudanzas ANDY Logo"
              class="w-18 h-12 object-contain bg-transparent drop-shadow-sm self-center"
              width="72"
              height="72"
              loading="lazy"
            />
          </picture>
          <div>
            <h3 class="text-2xl font-bold text-highlight">Mudanzas ANDY</h3>
            <p class="text-neutral text-sm italic">
              "Tu mudanza, nuestra prioridad"
            </p>
          </div>
        </div>
        <!-- Slot for moving Reserva YA button here when user reaches footer -->
        <div
          id="footer-reserva-slot"
          class="mt-4 flex justify-center items-center"
        >
          <a
            id="reserva-ya-footer-btn"
            href="https://wa.me/34640506084"
            target="_blank"
            rel="noopener noreferrer"
            class="hidden items-center bg-[rgb(var(--color-highlight))] text-[rgb(var(--color-primary))] rounded-full shadow-md px-4 md:px-8 py-3 w-full max-w-xs sm:max-w-sm md:max-w-lg lg:w-auto lg:max-w-none justify-center text-center whitespace-nowrap"
            aria-label="Reserva por WhatsApp"
          >
            <span
              class="w-6 md:w-8 flex items-center justify-center text-lg md:text-xl mr-2 md:mr-3"
              >üí¨</span
            >
            <span class="font-bold text-sm md:text-base mr-2 md:mr-3"
              >¬°Reserva YA!</span
            >
            <span class="text-xs md:text-sm font-normal">640 50 60 84</span>
          </a>
        </div>
      </div>

      <!-- Servicios -->
      <div class="space-y-4">
        <h4
          class="text-lg font-semibold text-[#FAE360] border-b border-[#679186] pb-2"
        >
          üìç Servicios
        </h4>
        <ul class="space-y-2 text-[#bbd4ce]">
          <li>‚Ä¢ Mudanzas en Barcelona y pen√≠nsula</li>
          <li>‚Ä¢ Embalaje profesional con cajas incluidas</li>
          <li>‚Ä¢ Servicio 24/7 los 365 d√≠as del a√±o</li>
          <li>‚Ä¢ Mudanzas express en 24-48 horas</li>
          <li>‚Ä¢ Almacenamiento seguro temporal</li>
        </ul>
      </div>

      <!-- Contacto -->
      <div class="space-y-4">
        <h4
          class="text-lg font-semibold text-[#FAE360] border-b border-[#679186] pb-2"
        >
          üìû Cont√°ctanos
        </h4>
        <div class="space-y-3 text-[#bbd4ce]">
          <a
            href="tel:+34933539792"
            class="flex items-center space-x-2 hover:text-[#FAE360] transition-colors duration-300"
          >
            <span class="text-lg">üìû</span>
            <div>
              <p class="font-semibold">Tel√©fono:</p>
              <p>933 53 97 92</p>
            </div>
          </a>

          <a
            href="https://wa.me/34640506084"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center space-x-2 hover:text-[#FAE360] transition-colors duration-300"
          >
            <span class="text-lg">üì±</span>
            <div>
              <p class="font-semibold">WhatsApp:</p>
              <p>640 50 60 84</p>
            </div>
          </a>

          <a
            href="mailto:mundanzas.andy@gmail.com,info@mudanzasandy.es"
            class="flex items-center space-x-2 hover:text-[#FAE360] transition-colors duration-300"
          >
            <span class="text-lg" aria-hidden="true">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                class="w-5 h-5"
                fill="currentColor"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"
                ></path>
              </svg>
            </span>
            <div>
              <p class="font-semibold">Email:</p>
              <p class="break-all">info@mudanzasandy.es</p>
              <p class="break-all">mundanzas.andy@gmail.com</p>
            </div>
          </a>

          <div class="flex items-center space-x-2">
            <span class="text-lg">üìç</span>
            <div>
              <p class="font-semibold">Direcci√≥n:</p>
              <p>
                Carrer de Casals i Cuber√≥, Distrito de Nou Barris, Barcelona
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Separador -->
    <div class="border-t border-[#679186] mt-8 pt-6 text-center text-[#bbd4ce]">
      <p class="text-sm mt-2">
        Empresa especializada en mudanzas profesionales en Barcelona y toda
        Espa√±a
      </p>

      <!-- Enlaces legales -->
      <div class="flex flex-wrap justify-center gap-4 mt-4 text-xs">
        <a
          href="/politica-privacidad"
          class="hover:text-[#FAE360] transition-colors duration-300 underline"
        >
          Pol√≠tica de Privacidad
        </a>
        <span class="text-[#679186]">‚Ä¢</span>
        <a
          href="/politica-cookies"
          class="hover:text-[#FAE360] transition-colors duration-300 underline"
        >
          Pol√≠tica de Cookies
        </a>
        <span class="text-[#679186]">‚Ä¢</span>
        <button
          id="footer-cookie-settings"
          class="hover:text-[#FAE360] transition-colors duration-300 underline bg-transparent border-none cursor-pointer"
        >
          Configurar Cookies
        </button>
      </div>

      <p class="text-xs mt-3 opacity-75">
        ¬© 2025 Mudanzas ANDY. Todos los derechos reservados.
      </p>
    </div>
  </div>
</footer>

<script>
  // Attach fallback handler for images with data-fallback in footer
  (function () {
    document.addEventListener("DOMContentLoaded", function () {
      const imgs = document.querySelectorAll("img[data-fallback]");
      imgs.forEach((img) => {
        img.addEventListener("error", function () {
          const el = img as HTMLImageElement;
          const fb = el.getAttribute("data-fallback");
          if (fb && el.src !== fb) {
            el.onerror = null;
            el.src = fb;
          }
        });
      });

      // Footer cookie settings button
      const footerCookieBtn = document.getElementById("footer-cookie-settings");
      if (footerCookieBtn) {
        footerCookieBtn.addEventListener("click", function () {
          if (typeof (window as any).showCookieSettings === "function") {
            (window as any).showCookieSettings();
          } else {
            // If cookie banner not loaded yet, show fallback
            alert(
              "La configuraci√≥n de cookies se abrir√° cuando est√© disponible."
            );
          }
        });
      }
    });
  })();
</script>
