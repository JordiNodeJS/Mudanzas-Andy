---
import { buttonClasses, formatPhoneForTel } from "../../lib/ui.ts";

interface Props {
  phone: string;
  text: string;
  variant?: "primary" | "secondary";
  size?: "sm" | "md" | "lg";
  icon?: string;
  fullWidth?: boolean;
}

const {
  phone,
  text,
  variant = "primary",
  size = "md",
  icon = "\ud83d\udcde",
  fullWidth = false,
} = Astro.props as Props;

const classes = buttonClasses({ variant, size, fullWidth });
const formattedPhone = formatPhoneForTel(phone);
---

<a
  href={`tel:${formattedPhone}`}
  class={classes}
  aria-label={`Llamar al ${phone}`}
>
  <span class="text-lg lg:text-xl">{icon}</span>
  <span class="break-words hyphens-auto">{text}</span>
</a>
