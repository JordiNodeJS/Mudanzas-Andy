---
import "../styles/global.css";
import CookieBanner from "../components/CookieBanner.astro";
import { ClientRouter } from "astro:transitions";

// Configuraci√≥n b√°sica sin analytics
const siteConfig = {
  bing: {
    webmaster_tools: {
      verification_code: "E00F433172C8065A658092822181BD08",
    },
  },
};

interface Props {
  title?: string;
  description?: string;
  image?: string;
  canonical?: string;
  keywords?: string;
  robots?: string;
}

const {
  title = "Mudanzas Profesionales Barcelona ‚ö° Presupuesto GRATIS | Mudanzas ANDY",
  description = "üöõ Mudanzas profesionales en Barcelona y Espa√±a. ‚úÖ Presupuesto GRATIS en 5 min por WhatsApp ‚úÖ Precio cerrado sin sorpresas ‚úÖ Atenci√≥n 24/7 ‚úÖ Embalaje incluido",
  image = "/camion/optimized/og-image.webp",
  canonical = Astro.url.href,
  keywords = "mudanzas Barcelona, mudanzas profesionales, empresa mudanzas Barcelona, mudanzas baratas, presupuesto mudanza gratis, mudanzas particulares, mudanzas oficinas",
  robots = "index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1",
} = Astro.props satisfies Props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Favicons generated from the truck logo -->
    <link rel="icon" href="/favicons/favicon.ico" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/favicons/favicon-32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/favicons/favicon-16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/favicons/apple-touch-icon.png"
    />
    <!-- SVG fallback / source of truth -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />

    <!-- Performance & Critical Resource Hints - OPTIMIZED FOR MOBILE CORE WEB VITALS -->

    <!-- CRITICAL: Preload hero images con media queries espec√≠ficas -->
    <!-- Preload solo la imagen cr√≠tica LCP - AVIF para mejor compresi√≥n -->
    <link
      rel="preload"
      as="image"
      href="/camion/optimized/hero-fondo.avif"
      type="image/avif"
      fetchpriority="high"
    />

    <!-- CRITICAL: DNS prefetch para recursos externos cr√≠ticos -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//fonts.gstatic.com" />
    <link rel="dns-prefetch" href="//wa.me" />
    <link rel="dns-prefetch" href="//api.whatsapp.com" />

    <!-- CRITICAL: Preconnect para recursos cr√≠ticos above-the-fold -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- MOBILE OPTIMIZATION: Critical CSS inline only - external CSS removed to prevent conflicts -->

    <!-- Resource hints para im√°genes above-the-fold -->
    <link rel="prefetch" href="/camion/optimized/camion-frontal.webp" />
    <link rel="prefetch" href="/camion/optimized/camion-evening.webp" />

    <!-- CRITICAL CSS MINIMALISTA - Solo Above The Fold esencial -->
    <style>
      /* Reset b√°sico */
      html {
        scroll-padding-top: 5rem;
      }
      body {
        margin: 0;
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
      }

      /* Container cr√≠tico */
      .container {
        max-width: 1280px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      /* Layout esencial - solo hero */
      .relative {
        position: relative;
      }
      .absolute {
        position: absolute;
      }
      .fixed {
        position: fixed;
      }
      .inset-0 {
        inset: 0;
      }
      .z-40 {
        z-index: 40;
      }
      .z-50 {
        z-index: 50;
      }
      .z-30 {
        z-index: 30;
      }
      .z-40 {
        z-index: 40;
      }
      .z-50 {
        z-index: 50;
      }

      /* DIMENSIONES CR√çTICAS */
      .w-full {
        width: 100%;
      }
      .w-auto {
        width: auto;
      }
      .h-full {
        height: 100%;
      }
      .h-auto {
        height: auto;
      }
      .min-h-screen {
        min-height: 100vh;
      }

      /* DISPLAY CR√çTICO */
      .block {
        display: block;
      }
      .inline {
        display: inline;
      }
      .inline-block {
        display: inline-block;
      }
      .flex {
        display: flex;
      }
      .inline-flex {
        display: inline-flex;
      }
      .grid {
        display: grid;
      }
      .hidden {
        display: none;
      }

      /* FLEXBOX CR√çTICO */
      .flex-col {
        flex-direction: column;
      }
      .flex-row {
        flex-direction: row;
      }
      .flex-wrap {
        flex-wrap: wrap;
      }
      .items-center {
        align-items: center;
      }
      .items-start {
        align-items: flex-start;
      }
      .items-end {
        align-items: flex-end;
      }
      .justify-center {
        justify-content: center;
      }
      .justify-between {
        justify-content: space-between;
      }
      .justify-around {
        justify-content: space-around;
      }
      .justify-evenly {
        justify-content: space-evenly;
      }
      .justify-start {
        justify-content: flex-start;
      }
      .justify-end {
        justify-content: flex-end;
      }
      .flex-1 {
        flex: 1 1 0%;
      }
      .flex-shrink-0 {
        flex-shrink: 0;
      }

      /* GRID CR√çTICO */
      .grid-cols-1 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
      }
      .grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
      .col-span-1 {
        grid-column: span 1 / span 1;
      }
      .col-span-2 {
        grid-column: span 2 / span 2;
      }
      .col-span-3 {
        grid-column: span 3 / span 3;
      }
      .gap-1 {
        gap: 0.25rem;
      }
      .gap-2 {
        gap: 0.5rem;
      }
      .gap-3 {
        gap: 0.75rem;
      }
      .gap-4 {
        gap: 1rem;
      }
      .gap-6 {
        gap: 1.5rem;
      }
      .gap-8 {
        gap: 2rem;
      }

      /* SPACE BETWEEN (para navigation) */
      .space-x-2 > :not([hidden]) ~ :not([hidden]) {
        margin-left: 0.5rem;
      }
      .space-x-3 > :not([hidden]) ~ :not([hidden]) {
        margin-left: 0.75rem;
      }
      .space-x-4 > :not([hidden]) ~ :not([hidden]) {
        margin-left: 1rem;
      }
      .space-x-6 > :not([hidden]) ~ :not([hidden]) {
        margin-left: 1.5rem;
      }
      .space-y-2 > :not([hidden]) ~ :not([hidden]) {
        margin-top: 0.5rem;
      }
      .space-y-4 > :not([hidden]) ~ :not([hidden]) {
        margin-top: 1rem;
      }

      /* TEXT Y TIPOGRAF√çA CR√çTICA */
      .text-center {
        text-align: center;
      }
      .text-left {
        text-align: left;
      }
      .text-right {
        text-align: right;
      }
      .font-bold {
        font-weight: 700;
      }
      .font-semibold {
        font-weight: 600;
      }
      .font-medium {
        font-weight: 500;
      }
      .font-normal {
        font-weight: 400;
      }
      .uppercase {
        text-transform: uppercase;
      }
      .lowercase {
        text-transform: lowercase;
      }
      .capitalize {
        text-transform: capitalize;
      }
      .whitespace-nowrap {
        white-space: nowrap;
      }
      .leading-tight {
        line-height: 1.25;
      }
      .leading-snug {
        line-height: 1.375;
      }
      .leading-normal {
        line-height: 1.5;
      }
      .leading-relaxed {
        line-height: 1.625;
      }

      /* TAMA√ëOS DE TEXTO CR√çTICOS */
      .text-xs {
        font-size: 0.75rem;
        line-height: 1rem;
      }
      .text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }
      .text-base {
        font-size: 1rem;
        line-height: 1.5rem;
      }
      .text-lg {
        font-size: 1.125rem;
        line-height: 1.75rem;
      }
      .text-xl {
        font-size: 1.25rem;
        line-height: 1.75rem;
      }
      .text-2xl {
        font-size: 1.5rem;
        line-height: 2rem;
      }
      .text-3xl {
        font-size: 1.875rem;
        line-height: 2.25rem;
      }
      .text-4xl {
        font-size: 2.25rem;
        line-height: 2.5rem;
      }
      .text-5xl {
        font-size: 3rem;
        line-height: 1;
      }
      .text-6xl {
        font-size: 3.75rem;
        line-height: 1;
      }

      /* COLORES CR√çTICOS - Sistema de colores del proyecto */
      .text-white {
        color: rgb(255 255 255);
      }
      .text-black {
        color: rgb(0 0 0);
      }
      .text-gray-900 {
        color: rgb(17 24 39);
      }
      .text-gray-800 {
        color: rgb(31 41 55);
      }
      .text-gray-700 {
        color: rgb(55 65 81);
      }
      .text-gray-600 {
        color: rgb(75 85 99);
      }

      /* SISTEMA DE COLORES MUDANZAS ANDY */
      .text-brand {
        color: rgb(38, 78, 112);
      }
      .text-secondary {
        color: rgb(103, 145, 134);
      }
      .text-accent {
        color: rgb(249, 180, 171);
      }
      .text-highlight {
        color: rgb(250, 227, 96);
      }
      .text-neutral {
        color: rgb(187, 212, 206);
      }

      .bg-white {
        background-color: rgb(255 255 255);
      }
      .bg-transparent {
        background-color: transparent;
      }
      .bg-brand {
        background-color: rgb(38, 78, 112);
      }
      .bg-secondary {
        background-color: rgb(103, 145, 134);
      }
      .bg-accent {
        background-color: rgb(249, 180, 171);
      }
      .bg-highlight {
        background-color: rgb(250, 227, 96);
      }
      .bg-neutral {
        background-color: rgb(187, 212, 206);
      }

      /* COLORES ESPEC√çFICOS DEL PROYECTO */
      .text-\[rgb\(var\(--color-primary\)\)\] {
        color: rgb(38, 78, 112);
      }
      .bg-\[rgb\(var\(--color-primary\)\)\] {
        background-color: rgb(38, 78, 112);
      }
      .text-\[\#bbd4ce\] {
        color: #bbd4ce;
      }
      .text-\[\#FAE360\] {
        color: #fae360;
      }
      .hover\:text-\[\#FAE360\]:hover {
        color: #fae360;
      }
      .border-\[\#bbd4ce\] {
        border-color: #bbd4ce;
      }
      .focus\:border-\[\#FAE360\]:focus {
        border-color: #fae360;
      }
      .hover\:bg-\[\#5a7a6f\]:hover {
        background-color: #5a7a6f;
      }
      .placeholder-gray-500::placeholder {
        color: rgb(107 114 128);
      }

      /* BOTONES CR√çTICOS */
      .btn,
      .btn-primary,
      .btn-accent,
      .btn-outline-primary,
      .btn-outline-white {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        font-size: 0.875rem;
        border-radius: 0.375rem;
        border: 2px solid transparent;
        cursor: pointer;
        transition: all 0.2s ease-in-out;
        text-decoration: none;
        min-height: 3rem;
      }

      .btn-primary {
        background-color: rgb(249, 180, 171);
        color: rgb(17, 24, 39);
        border-color: rgb(249, 180, 171);
      }
      .btn-primary:hover {
        background-color: rgb(250, 227, 96);
        border-color: rgb(250, 227, 96);
        transform: translateY(-1px);
      }

      .btn-accent {
        background-color: rgb(249, 180, 171);
        color: rgb(17, 24, 39);
        border-color: rgb(249, 180, 171);
      }
      .btn-accent:hover {
        background-color: rgb(250, 227, 96);
        border-color: rgb(250, 227, 96);
      }

      .btn-outline-primary {
        background-color: transparent;
        color: rgb(38, 78, 112);
        border-color: rgb(38, 78, 112);
      }
      .btn-outline-primary:hover {
        background-color: rgb(38, 78, 112);
        color: rgb(255, 255, 255);
      }

      .btn-outline-white {
        background-color: transparent;
        color: rgb(255, 255, 255);
        border-color: rgb(255, 255, 255);
      }
      .btn-outline-white:hover {
        background-color: rgb(255, 255, 255);
        color: rgb(17, 24, 39);
      }

      /* CARDS CR√çTICOS */
      .card {
        display: block;
        border-radius: 0.5rem;
        box-shadow:
          0 1px 3px 0 rgb(0 0 0 / 0.1),
          0 1px 2px -1px rgb(0 0 0 / 0.1);
        overflow: hidden;
      }
      .card-compact {
        padding: 1rem;
      }
      .card-bordered {
        border: 1px solid rgb(229 231 235);
      }
      .bg-white\/98 {
        background-color: rgb(255 255 255 / 0.98);
      }
      .backdrop-blur-sm {
        backdrop-filter: blur(4px);
      }

      .card-image {
        display: block;
      }
      .card-content {
        padding: 1rem;
      }
      .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
      .card-description {
        color: rgb(75 85 99);
        margin-bottom: 1rem;
      }
      .card-actions {
        display: flex;
        gap: 0.5rem;
      }

      /* BADGES CR√çTICOS */
      .badge-gradient-primary {
        background: linear-gradient(
          135deg,
          rgb(249, 180, 171),
          rgb(250, 227, 96)
        );
        color: rgb(17, 24, 39);
        border-radius: 9999px;
        font-weight: 600;
        padding: 0.25rem 0.75rem;
        font-size: 0.75rem;
      }

      /* BACKGROUNDS CR√çTICOS */
      .bg-gradient-to-r {
        background-image: linear-gradient(to right, var(--tw-gradient-stops));
      }
      .bg-gradient-to-br {
        background-image: linear-gradient(
          to bottom right,
          var(--tw-gradient-stops)
        );
      }

      /* GRADIENTES CON OPACIDAD ESPEC√çFICOS */
      .from-\[\#679186\]\/80 {
        --tw-gradient-from: rgb(103 145 134 / 0.8);
        --tw-gradient-to: rgb(103 145 134 / 0);
        --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
      }
      .to-\[\#264e70\]\/80 {
        --tw-gradient-to: rgb(38 78 112 / 0.8);
      }

      /* UTILIDADES ADICIONALES */
      .break-words {
        word-wrap: break-word;
      }
      .hyphens-auto {
        hyphens: auto;
      }
      .max-w-2xl {
        max-width: 42rem;
      }

      /* OVERFLOW CR√çTICO */
      .overflow-hidden {
        overflow: hidden;
      }
      .overflow-x-auto {
        overflow-x: auto;
      }
      .overflow-y-auto {
        overflow-y: auto;
      }

      /* OBJECT FIT CR√çTICO */
      .object-cover {
        object-fit: cover;
      }
      .object-contain {
        object-fit: contain;
      }
      /* SPACING CR√çTICO */
      .p-0 {
        padding: 0;
      }
      .p-2 {
        padding: 0.5rem;
      }
      .p-4 {
        padding: 1rem;
      }
      .p-6 {
        padding: 1.5rem;
      }
      .px-2 {
        padding-left: 0.5rem;
        padding-right: 0.5rem;
      }
      .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      .px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
      }
      .px-8 {
        padding-left: 2rem;
        padding-right: 2rem;
      }
      .py-2 {
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
      }
      .py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
      }
      .py-6 {
        padding-top: 1.5rem;
        padding-bottom: 1.5rem;
      }
      .py-8 {
        padding-top: 2rem;
        padding-bottom: 2rem;
      }
      .py-12 {
        padding-top: 3rem;
        padding-bottom: 3rem;
      }
      .py-16 {
        padding-top: 4rem;
        padding-bottom: 4rem;
      }
      .py-20 {
        padding-top: 5rem;
        padding-bottom: 5rem;
      }
      .pt-4 {
        padding-top: 1rem;
      }
      .pt-16 {
        padding-top: 4rem;
      }
      .pt-20 {
        padding-top: 5rem;
      }
      .pb-4 {
        padding-bottom: 1rem;
      }
      .pb-8 {
        padding-bottom: 2rem;
      }
      .pl-4 {
        padding-left: 1rem;
      }
      .pr-4 {
        padding-right: 1rem;
      }

      /* MARGINS CR√çTICOS */
      .m-0 {
        margin: 0;
      }
      .m-auto {
        margin: auto;
      }
      .mx-auto {
        margin-left: auto;
        margin-right: auto;
      }
      .my-4 {
        margin-top: 1rem;
        margin-bottom: 1rem;
      }
      .my-8 {
        margin-top: 2rem;
        margin-bottom: 2rem;
      }
      .mt-2 {
        margin-top: 0.5rem;
      }
      .mt-4 {
        margin-top: 1rem;
      }
      .mt-8 {
        margin-top: 2rem;
      }
      .mb-2 {
        margin-bottom: 0.5rem;
      }
      .mb-4 {
        margin-bottom: 1rem;
      }
      .mb-6 {
        margin-bottom: 1.5rem;
      }
      .mb-8 {
        margin-bottom: 2rem;
      }
      .ml-2 {
        margin-left: 0.5rem;
      }
      .ml-4 {
        margin-left: 1rem;
      }
      .mr-2 {
        margin-right: 0.5rem;
      }
      .mr-4 {
        margin-right: 1rem;
      }

      /* BORDERS CR√çTICOS */
      .border {
        border-width: 1px;
      }
      .border-2 {
        border-width: 2px;
      }
      .border-none {
        border: none;
      }
      .rounded {
        border-radius: 0.25rem;
      }
      .rounded-md {
        border-radius: 0.375rem;
      }
      .rounded-lg {
        border-radius: 0.5rem;
      }
      .rounded-xl {
        border-radius: 0.75rem;
      }
      .rounded-full {
        border-radius: 9999px;
      }

      /* SHADOWS CR√çTICOS */
      .shadow-sm {
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      }
      .shadow {
        box-shadow:
          0 1px 3px 0 rgb(0 0 0 / 0.1),
          0 1px 2px -1px rgb(0 0 0 / 0.1);
      }
      .shadow-lg {
        box-shadow:
          0 10px 15px -3px rgb(0 0 0 / 0.1),
          0 4px 6px -4px rgb(0 0 0 / 0.1);
      }
      .drop-shadow-sm {
        filter: drop-shadow(0 1px 1px rgb(0 0 0 / 0.05));
      }

      /* TRANSITIONS CR√çTICAS */
      .transition-colors {
        transition-property: color, background-color, border-color, fill, stroke;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
      }
      .transition-transform {
        transition-property: transform;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
      }
      .duration-300 {
        transition-duration: 300ms;
      }
      .hover\:scale-105:hover {
        transform: scale(1.05);
      }

      /* RESPONSIVE UTILITIES CR√çTICAS */
      @media (min-width: 640px) {
        .sm\:block {
          display: block;
        }
        .sm\:hidden {
          display: none;
        }
        .sm\:text-sm {
          font-size: 0.875rem;
          line-height: 1.25rem;
        }
        .sm\:text-base {
          font-size: 1rem;
          line-height: 1.5rem;
        }
        .sm\:px-6 {
          padding-left: 1.5rem;
          padding-right: 1.5rem;
        }
      }

      @media (min-width: 768px) {
        .md\:block {
          display: block;
        }
        .md\:hidden {
          display: none;
        }
        .md\:flex {
          display: flex;
        }
        .md\:grid {
          display: grid;
        }
        .md\:text-lg {
          font-size: 1.125rem;
          line-height: 1.75rem;
        }
        .md\:px-8 {
          padding-left: 2rem;
          padding-right: 2rem;
        }
      }

      @media (min-width: 1024px) {
        .lg\:block {
          display: block;
        }
        .lg\:hidden {
          display: none;
        }
        .lg\:flex {
          display: flex;
        }
        .lg\:grid {
          display: grid;
        }
        .lg\:inline {
          display: inline;
        }
        .lg\:grid-cols-3 {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .lg\:col-span-1 {
          grid-column: span 1 / span 1;
        }
        .lg\:items-center {
          align-items: center;
        }
        .lg\:gap-2 {
          gap: 0.5rem;
        }
        .lg\:space-x-3 > :not([hidden]) ~ :not([hidden]) {
          margin-left: 0.75rem;
        }
        .lg\:space-x-4 > :not([hidden]) ~ :not([hidden]) {
          margin-left: 1rem;
        }
        .lg\:text-sm {
          font-size: 0.875rem;
          line-height: 1.25rem;
        }
        .lg\:text-lg {
          font-size: 1.125rem;
          line-height: 1.75rem;
        }
        .lg\:text-xl {
          font-size: 1.25rem;
          line-height: 1.75rem;
        }
        .lg\:h-20 {
          height: 5rem;
        }
        .lg\:w-20 {
          width: 5rem;
        }
      }

      @media (min-width: 1280px) {
        .xl\:inline {
          display: inline;
        }
        .xl\:hidden {
          display: none;
        }
        .xl\:gap-4 {
          gap: 1rem;
        }
        .xl\:space-x-6 > :not([hidden]) ~ :not([hidden]) {
          margin-left: 1.5rem;
        }
      }

      /* FORMULARIOS CR√çTICOS */
      input,
      textarea,
      select {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }
      input[type="text"],
      input[type="email"],
      input[type="tel"],
      textarea {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
      }
      .focus\:outline-none:focus {
        outline: 2px solid transparent;
        outline-offset: 2px;
      }
      .border-2 {
        border-width: 2px;
      }
      .min-w-0 {
        min-width: 0px;
      }
      .max-w-2xl {
        max-width: 42rem;
      }

      /* CURSOR */
      .cursor-pointer {
        cursor: pointer;
      }

      /* TRANSFORM */
      .transform {
        transform: translate(var(--tw-translate-x), var(--tw-translate-y))
          rotate(var(--tw-rotate)) skewX(var(--tw-skew-x))
          skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
          scaleY(var(--tw-scale-y));
      }
      .translate-y-full {
        --tw-translate-y: 100%;
        transform: translate(var(--tw-translate-x), var(--tw-translate-y))
          rotate(var(--tw-rotate)) skewX(var(--tw-skew-x))
          skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
          scaleY(var(--tw-scale-y));
      }
      .-translate-y-full {
        --tw-translate-y: -100%;
        transform: translate(var(--tw-translate-x), var(--tw-translate-y))
          rotate(var(--tw-rotate)) skewX(var(--tw-skew-x))
          skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
          scaleY(var(--tw-scale-y));
      }

      /* EASE-IN-OUT */
      .ease-in-out {
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      }
      .duration-500 {
        transition-duration: 500ms;
      }
      .transition-all {
        transition-property: all;
      }
      .bg-gradient-to-br {
        background-image: linear-gradient(
          to bottom right,
          var(--tw-gradient-stops)
        );
      }
      .from-\[rgb\(249\,180\,171\)\] {
        --tw-gradient-from: rgb(249, 180, 171);
        --tw-gradient-to: rgb(249 180 171 / 0);
        --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
      }
      .to-\[rgb\(187\,212\,206\)\] {
        --tw-gradient-to: rgb(187, 212, 206);
      }
      .text-brand {
        color: rgb(38, 78, 112);
      }
      .text-secondary {
        color: rgb(103, 145, 134);
      }
      .font-bold {
        font-weight: 700;
      }
      .font-semibold {
        font-weight: 600;
      }
      .leading-tight {
        line-height: 1.25;
      }
      .drop-shadow-sm {
        filter: drop-shadow(0 1px 1px rgb(0 0 0 / 0.05));
      }
      .opacity-15 {
        opacity: 0.15;
      }

      /* Responsive text sizes */
      .text-2xl {
        font-size: 1.5rem;
        line-height: 2rem;
      }
      .text-lg {
        font-size: 1.125rem;
        line-height: 1.75rem;
      }

      @media (min-width: 640px) {
        .sm\:text-3xl {
          font-size: 1.875rem;
          line-height: 2.25rem;
        }
        .sm\:text-xl {
          font-size: 1.25rem;
          line-height: 1.75rem;
        }
      }

      @media (min-width: 768px) {
        .md\:text-4xl {
          font-size: 2.25rem;
          line-height: 2.5rem;
        }
        .md\:text-2xl {
          font-size: 1.5rem;
          line-height: 2rem;
        }
      }

      @media (min-width: 1024px) {
        .lg\:text-5xl {
          font-size: 3rem;
          line-height: 1;
        }
        .lg\:text-3xl {
          font-size: 1.875rem;
          line-height: 2.25rem;
        }
        .lg\:py-20 {
          padding: 5rem 0;
        }
        .lg\:mb-6 {
          margin-bottom: 1.5rem;
        }
        .lg\:mb-8 {
          margin-bottom: 2rem;
        }
      }

      @media (min-width: 1280px) {
        .xl\:text-6xl {
          font-size: 3.75rem;
          line-height: 1;
        }
      }

      /* ============================================
         VIEW TRANSITIONS - ULTRA SIMPLE
         ============================================ */

      /* Solo fade b√°sico para evitar problemas de scroll */
      ::view-transition-old(root) {
        animation-duration: 0.15s;
        animation-timing-function: ease-out;
      }

      ::view-transition-new(root) {
        animation-duration: 0.15s;
        animation-timing-function: ease-in;
      }

      /* Respeto por preferencias de movimiento reducido */
      @media (prefers-reduced-motion: reduce) {
        ::view-transition-old(root),
        ::view-transition-new(root) {
          animation-duration: 0.01s;
        }
      }
    </style>

    <!-- SEO Meta Tags -->
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content={keywords} />
    <meta name="robots" content={robots} />
    <link rel="canonical" href={canonical} />

    <!-- Additional SEO Meta Tags -->
    <meta name="author" content="Mudanzas ANDY" />
    <meta name="language" content="es" />
    <meta name="geo.region" content="ES-CT" />
    <meta name="geo.placename" content="Barcelona" />
    <meta name="geo.position" content="41.3851;2.1734" />
    <meta name="ICBM" content="41.3851, 2.1734" />

    <!-- Business Information -->
    <meta
      name="contact"
      content="mundanzas.andy@gmail.com, info@mudanzasandy.es"
    />
    <meta name="phone" content="+34933539792" />
    <meta
      name="address"
      content="Carrer de Casals i Cuber√≥, Barcelona, Espa√±a"
    />

    <!-- Search Engine Verification Tags -->
    {
      siteConfig.bing.webmaster_tools.verification_code && (
        <meta
          name="msvalidate.01"
          content={siteConfig.bing.webmaster_tools.verification_code}
        />
      )
    }

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonical} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={new URL(image, Astro.url)} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
  <meta property="og:image:type" content="image/webp" />
    <meta property="og:site_name" content="Mudanzas ANDY" />
    <meta property="og:locale" content="es_ES" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={canonical} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={new URL(image, Astro.url)} />
    <meta
      property="twitter:image:alt"
      content="Mudanzas ANDY - Empresa de mudanzas profesionales en Barcelona"
    />
    <meta property="twitter:site" content="@MudanzasAndy" />
    <meta property="twitter:creator" content="@MudanzasAndy" />

    <!-- Enhanced Schema.org markup for Moving Company -->
    <script
      type="application/ld+json"
      is:inline
      set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "MovingCompany",
        name: "Mudanzas ANDY",
        alternateName: "ANDY Mudanzas Barcelona",
        description:
          "Empresa de mudanzas profesionales en Barcelona y Espa√±a. Servicios de mudanzas particulares, oficinas, embalaje profesional y traslado a guardamuebles/trasteros.",
        url: canonical,
        logo: new URL("/logo-mudanzas-andy.svg", Astro.url),
        image: new URL(image, Astro.url),
        telephone: "+34933539792",
        email: ["mundanzas.andy@gmail.com", "info@mudanzasandy.es"],
        foundingDate: "2010",
        slogan: "Tu mudanza, nuestra prioridad",
        address: {
          "@type": "PostalAddress",
          streetAddress: "Carrer de Casals i Cuber√≥",
          addressLocality: "Barcelona",
          addressRegion: "Catalu√±a",
          postalCode: "08016",
          addressCountry: "ES",
        },
        geo: {
          "@type": "GeoCoordinates",
          latitude: "41.3851",
          longitude: "2.1734",
        },
        openingHours: "Mo-Su 00:00-23:59",
        priceRange: "‚Ç¨‚Ç¨",
        currenciesAccepted: "EUR",
        paymentAccepted: ["Cash", "Credit Card", "Bank Transfer"],
        serviceArea: [
          {
            "@type": "Country",
            name: "Espa√±a",
          },
          {
            "@type": "AdministrativeArea",
            name: "Catalu√±a",
          },
          {
            "@type": "City",
            name: "Barcelona",
          },
        ],
        areaServed: ["Barcelona", "Madrid", "Valencia", "Catalu√±a", "Espa√±a"],
        hasOfferCatalog: {
          "@type": "OfferCatalog",
          name: "Servicios de Mudanzas",
          itemListElement: [
            {
              "@type": "Offer",
              itemOffered: {
                "@type": "Service",
                name: "Mudanzas Particulares",
                description:
                  "Mudanzas de viviendas completas con embalaje profesional incluido",
              },
            },
            {
              "@type": "Offer",
              itemOffered: {
                "@type": "Service",
                name: "Mudanzas de Oficinas",
                description:
                  "Traslados empresariales con m√≠nima interrupci√≥n del negocio",
              },
            },
            {
              "@type": "Offer",
              itemOffered: {
                "@type": "Service",
                name: "Embalaje Profesional",
                description:
                  "Servicio completo de embalaje con materiales de alta calidad",
              },
            },
            {
              "@type": "Offer",
              itemOffered: {
                "@type": "Service",
                name: "Guardamuebles",
                description: "Almacenamiento seguro temporal de pertenencias",
              },
            },
            {
              "@type": "Offer",
              itemOffered: {
                "@type": "Service",
                name: "Mudanzas Express",
                description: "Mudanzas urgentes realizadas en el mismo d√≠a",
              },
            },
            {
              "@type": "Offer",
              itemOffered: {
                "@type": "Service",
                name: "Mudanzas Nacionales",
                description:
                  "Mudanzas por toda Espa√±a con seguimiento en tiempo real",
              },
            },
          ],
        },
        review: [
          {
            "@type": "Review",
            author: {
              "@type": "Person",
              name: "Mar√≠a Garc√≠a",
            },
            reviewRating: {
              "@type": "Rating",
              ratingValue: 5,
              bestRating: 5,
            },
            reviewBody:
              "Profesionales, puntuales y muy cuidadosos. Mi mudanza fue perfecta y sin estr√©s.",
          },
          {
            "@type": "Review",
            author: {
              "@type": "Person",
              name: "Carlos Ruiz",
            },
            reviewRating: {
              "@type": "Rating",
              ratingValue: 5,
              bestRating: 5,
            },
            reviewBody:
              "Trasladaron toda nuestra oficina en un fin de semana. El lunes ya est√°bamos trabajando normalmente.",
          },
          {
            "@type": "Review",
            author: {
              "@type": "Person",
              name: "Ana L√≥pez",
            },
            reviewRating: {
              "@type": "Rating",
              ratingValue: 5,
              bestRating: 5,
            },
            reviewBody:
              "En menos de 4 horas hab√≠an terminado. Todo perfectamente organizado y sin un solo rasgu√±o.",
          },
        ],
        aggregateRating: {
          "@type": "AggregateRating",
          ratingValue: 5.0,
          reviewCount: 3,
          bestRating: 5,
          worstRating: 1,
        },
        contactPoint: [
          {
            "@type": "ContactPoint",
            telephone: "+34933539792",
            contactType: "customer service",
            areaServed: "ES",
            availableLanguage: "Spanish",
          },
          {
            "@type": "ContactPoint",
            telephone: "+34640506084",
            contactType: "customer service",
            contactOption: "WhatsApp",
            areaServed: "ES",
            availableLanguage: "Spanish",
          },
        ],
        sameAs: ["https://wa.me/34640506084"],
      })}
    />

    <!-- Website Schema -->
    <script
      type="application/ld+json"
      is:inline
      set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "WebSite",
        name: "Mudanzas ANDY",
        url: canonical,
        potentialAction: {
          "@type": "SearchAction",
          target: canonical + "?q={search_term_string}",
          "query-input": "required name=search_term_string",
        },
      })}
    />

    <!-- Breadcrumb Schema (for pages with navigation) -->
    {
      Astro.url.pathname !== "/" && (
        <script
          type="application/ld+json"
          is:inline
          set:html={JSON.stringify({
            "@context": "https://schema.org",
            "@type": "BreadcrumbList",
            itemListElement: [
              {
                "@type": "ListItem",
                position: 1,
                name: "Inicio",
                item: new URL("/", Astro.url).href,
              },
              {
                "@type": "ListItem",
                position: 2,
                name: title,
                item: canonical,
              },
            ],
          })}
        />
      )
    }

    <!-- Client Router para navegaci√≥n suave -->
    <ClientRouter />

    <!-- Estilos personalizados para view transitions -->
    <style>
      /* View Transitions personalizadas */
      @media (prefers-reduced-motion: no-preference) {
        ::view-transition-old(root),
        ::view-transition-new(root) {
          animation-duration: 0.3s;
          animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        }

        ::view-transition-old(root) {
          animation-name: slide-out-left;
        }

        ::view-transition-new(root) {
          animation-name: slide-in-right;
        }

        @keyframes slide-out-left {
          from {
            transform: translateX(0);
            opacity: 1;
          }
          to {
            transform: translateX(-30px);
            opacity: 0;
          }
        }

        @keyframes slide-in-right {
          from {
            transform: translateX(30px);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }

        /* Transici√≥n espec√≠fica para el blog */
        [data-astro-transition-scope="blog"] {
          view-transition-name: blog-content;
        }

        ::view-transition-old(blog-content),
        ::view-transition-new(blog-content) {
          animation-duration: 0.4s;
        }

        ::view-transition-old(blog-content) {
          animation-name: fade-scale-out;
        }

        ::view-transition-new(blog-content) {
          animation-name: fade-scale-in;
        }

        @keyframes fade-scale-out {
          from {
            transform: scale(1);
            opacity: 1;
          }
          to {
            transform: scale(0.95);
            opacity: 0;
          }
        }

        @keyframes fade-scale-in {
          from {
            transform: scale(1.05);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
      }

      /* Animaciones suaves para scroll interno */
      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>
  <body class="font-sans bg-[#fdebd3] text-gray-800 antialiased">
    <slot />

    <!-- Cookie Banner -->
    <CookieBanner />

    <!-- WhatsApp Floating Button (visible during scroll; script will toggle visibility when footer is in view) -->
    <a
      href="https://wa.me/34640506084"
      target="_blank"
      rel="noopener noreferrer"
      id="reserva-ya-floating"
      class="fixed bottom-20 sm:bottom-24 lg:bottom-28 right-4 z-40 bg-[#FAE360] hover:bg-[#f0d84a] text-[#264e70] font-bold py-3 px-4 md:px-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center gap-2 md:gap-3 animate-pulse hover:animate-none will-change-transform will-change-opacity"
      aria-label="Contactar por WhatsApp"
    >
      <span class="text-xl md:text-2xl">üí¨</span>
      <span class="hidden lg:inline">¬°Reserva YA!</span>
      <span class="text-xs md:text-sm font-normal">640 50 60 84</span>
    </a>
    <!-- Hidden helper to force Tailwind to generate dynamic classes used by JS -->
    <span
      class="sr-only opacity-10 pointer-events-none translate-y-[6px] scale-[0.98]"
    ></span>

    <!-- External script toggles floating/footer Reserva button visibility -->
    <script src="/js/move-reserva.js" defer is:inline></script>
    <script is:inline>
      // Toggle Tailwind utility classes on the floating button when CTA intersects.
      // Uses IntersectionObserver with a generous rootMargin and a scroll/resize fallback
      (function () {
        const floating = document.getElementById("reserva-ya-floating");
        const cta = document.querySelector(".cta-section");
        if (!floating || !cta) return;

        const hiddenClasses = [
          "opacity-10",
          "pointer-events-none",
          "translate-y-[6px]",
          "scale-[0.98]",
        ];

        function applyHidden() {
          if (!hiddenClasses.every((c) => floating.classList.contains(c))) {
            floating.classList.add(...hiddenClasses);
          }
        }

        function removeHidden() {
          hiddenClasses.forEach((c) => floating.classList.remove(c));
        }

        // Fallback check: is CTA visible within viewport?
        function isCTAVisible() {
          const rect = cta.getBoundingClientRect();
          return rect.top < window.innerHeight && rect.bottom > 0;
        }

        // IntersectionObserver for modern browsers
        if ("IntersectionObserver" in window) {
          const io = new IntersectionObserver(
            (entries) => {
              for (const entry of entries) {
                if (entry.isIntersecting) applyHidden();
                else removeHidden();
              }
            },
            // rootMargin to trigger slightly before the CTA fully enters the viewport
            {
              root: null,
              rootMargin: "0px 0px -20% 0px",
              threshold: [0, 0.05, 0.2],
            }
          );
          io.observe(cta);
        }

        // Fallback on scroll/resize (double-check)
        let scheduled = false;
        function check() {
          scheduled = false;
          if (isCTAVisible()) applyHidden();
          else removeHidden();
        }

        function scheduleCheck() {
          if (scheduled) return;
          scheduled = true;
          requestAnimationFrame(check);
        }

        window.addEventListener("scroll", scheduleCheck, { passive: true });
        window.addEventListener("resize", scheduleCheck);

        // Initial run
        scheduleCheck();
      })();
    </script>
    <!-- Print ASCII credit to dev console when DevTools opens -->
    <script is:inline>
      (function () {
        // ASCII block for 'WEBCODE' (simple, clear block letters)
        const ascii = `
W     W  EEEEE  BBBBB   CCCCC  OOOOO  DDDDD  EEEEE
W     W  E      B    B  C      O   O  D    D E
W  W  W  EEEE   BBBBB   C      O   O  D    D EEEE
W W W W  E      B    B  C      O   O  D    D E
WW   WW  EEEEE  BBBBB   CCCCC  OOOOO  DDDDD  EEEEE
`.trim();

        const footer =
          "    JordiNodeJS  jordi.nodejs@gmail.com | https://github.com/JordiNodeJS";

        // Styles for console (works in browser DevTools). Node console doesn't support CSS styling.
        // Colored styles for console output (DevTools supports CSS styling)
        const baseStyle =
          "color:#8b5cf6; font-weight:800; font-family:monospace; font-size:13px;"; // purple for the ASCII art
        const nameStyle =
          "color:#06b6d4; font-weight:800; font-family:monospace; font-size:13px;"; // cyan for name
        const emailStyle =
          "color:#1a73e8; font-weight:700; font-family:monospace; font-size:13px;"; // blue for email
        const webStyle =
          "color:#10b981; font-weight:700; font-family:monospace; font-size:13px;"; // green for web
        const contactStyle =
          "color:#f59e0b; font-weight:700; font-family:monospace; font-size:13px;"; // amber for additional contact

        // Use a global window flag to prevent duplicates across multiple detection paths
        let printed = false;
        function printOnce() {
          if (typeof window !== "undefined" && window.__ascii_printed) return;

          // Prepare footer parts for styled output
          const parts = footer.split("|").map((p) => p.trim());
          // parts => ['JordiNodeJS  jordi.nodejs@gmail.com', 'https://github.com/JordiNodeJS']
          const nameAndEmail = parts[0] || "";
          // Try to split name (WORD) and email if present
          let name = nameAndEmail;
          let email = "";
          const m = nameAndEmail.match(/^(\S+)\s+(\S+@\S+)$/);
          if (m) {
            name = m[1];
            email = m[2];
          }

          const web = parts[1] ? ` | ${parts[1]} ` : "";
          const info = parts[2] ? ` | ${parts[2]}` : "";

          // Mark as printed early to avoid race conditions that could log twice
          printed = true;
          if (typeof window !== "undefined") window.__ascii_printed = true;

          // Print the ASCII art and style the footer pieces separately
          // Order of %c corresponds to style args after the format string
          if (email) {
            console.log(
              "%c" +
                ascii +
                "\n\n%c" +
                name +
                " %c" +
                email +
                "%c" +
                web +
                "%c" +
                info,
              baseStyle,
              nameStyle,
              emailStyle,
              webStyle,
              contactStyle
            );
          } else {
            console.log(
              "%c" + ascii + "\n\n%c" + name + "%c" + web + "%c" + info,
              baseStyle,
              nameStyle,
              webStyle,
              contactStyle
            );
          }
        }

        // M√©todo 1: Detecci√≥n por console.log override (muy efectivo)
        let devtools = { open: false, orientation: null };

        // Crear un objeto que detecta cuando se accede a √©l
        let detector = {};
        Object.defineProperty(detector, "id", {
          get: function () {
            devtools.open = true;
            printOnce();
            return true;
          },
        });

        // M√©todo 2: Usar console.debug con el detector
        function detectDevTools() {
          console.debug(detector);
        }

        // M√©todo 3: Heur√≠stica mejorada de tama√±o (fallback)
        function checkDevToolsBySize() {
          try {
            const widthDiff = window.outerWidth - window.innerWidth;
            const heightDiff = window.outerHeight - window.innerHeight;

            // Umbrales m√°s din√°micos basados en el tama√±o de pantalla
            const minThreshold = Math.min(window.screen.width * 0.1, 100);
            const _maxThreshold = Math.max(window.screen.width * 0.15, 200);

            // mark as intentionally unused to avoid ts(6133) hint - reserved for future heuristics
            void _maxThreshold;

            if (widthDiff > minThreshold || heightDiff > minThreshold) {
              // Using minThreshold for the check; maxThreshold is kept for
              // informational purposes and reserved for future heuristics.
              // Rename to _maxThreshold to avoid unused-variable diagnostics.
              printOnce();
            }
          } catch (e) {
            // Silently fail
          }
        }

        // M√©todo 4: Detecci√≥n por timing de console (Chrome/Edge)
        function detectByTiming() {
          let start = performance.now();
          console.log("");
          let end = performance.now();

          // Si el console.log toma m√°s tiempo, probablemente DevTools est√° abierto
          if (end - start > 10) {
            printOnce();
          }
        }

        // M√©todo 5: Fallback simple - imprimir despu√©s de un delay si no se ha impreso
        setTimeout(() => {
          if (!printed) {
            // Si despu√©s de 3 segundos no se ha detectado, imprimir de todos modos
            // pero solo si hay indicios de que se est√° inspeccionando
            if (document.hasFocus && document.hasFocus()) {
              printOnce();
            }
          }
        }, 3000);

        // Ejecutar detecciones
        detectDevTools(); // M√©todo principal

        // Chequeos peri√≥dicos con m√∫ltiples m√©todos
        const interval = setInterval(() => {
          if (printed) {
            clearInterval(interval);
            return;
          }

          detectDevTools();
          checkDevToolsBySize();

          // Cada 3 intentos, usar el m√©todo de timing
          if (Math.random() > 0.7) {
            detectByTiming();
          }
        }, 500);

        // Limpiar despu√©s de 30 segundos para evitar overhead
        setTimeout(() => {
          clearInterval(interval);
        }, 30000);

        // Event listeners para interacciones que podr√≠an indicar uso de DevTools
        ["keydown", "resize"].forEach((event) => {
          window.addEventListener(event, (e) => {
            if (e.key === "F12" || (e.ctrlKey && e.shiftKey && e.key === "I")) {
              setTimeout(detectDevTools, 100);
            }
          });
        });
      })();
    </script>
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
  }
</style>
